<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<bsh>source(server.props.get("serviceContext").pawHome + "/html/app/bsh/i18n.bsh");</bsh>

<title>BeanShell Console</title>

<style type="text/css">
      .CodeMirror-line-numbers {
        width: 2.2em;
        color: #aaa;
        background-color: #eee;
        text-align: right;

        font-size: 10pt;
        font-family: monospace;

      }
	  .CodeMirror-wrapping {
		background: white;
	  }
      .head {
      background: #222;
      width: auto;
      height: 48px;
      color: aliceblue;
          margin-right: 17px;





      }




    </style>

<!-- Handle tab key in textarea -->
<script type="text/javascript" src="js/checkTab.js"></script>
<script type="text/javascript" src="js/jquery.js"></script>
<script type="text/javascript" src="js/executeScript.js"></script>

<script src="js/codemirror/js/codemirror.js" type="text/javascript"></script>
<script src="js/codemirror/js/mirrorframe.js" type="text/javascript"></script>


<script type="text/javascript">
	var editor;
	$(document).ready(function() {
		// Setup syntax colouring
		var textarea = document.getElementById('code');
		   editor = CodeMirror.fromTextArea('code', {
			height: "350px",
			content: textarea.value,
			parserfile: ["tokenizejavascript.js", "parsejavascript.js"],
			stylesheet: "js/codemirror/css/jscolors.css",
			path: "js/codemirror/js/",
			autoMatchParens: true,
			lineNumbers: true
		  });

		// Draw black border around editor iframe
		$("iframe").css("border", "1px solid black");

		// Set focus on first textarea
		$("textarea:visible:first").focus();

		// Add line numbers
		//$("#code").linedtextarea();
 	});

	function execute() {
		$("#code2").val(editor.getCode());
		executeScript('code2', 'loader', 'output');
	}
</script>

</head>
<body style="margin:0px;">


<div class="head" >
       <h2 style="padding: 10px;">BeanShell Console</h2>
</div>

<bsh>code = parameters.get("code");</bsh>
<p></p>
<textarea id='code' rows='15' style='margin-left:20px; width: 80%;'>

</textarea>

<br><button style="margin-left:20px;" onClick="execute();">Execute</button>&nbsp;<img id="loader" src="res/image/loader.gif" style="display: none;" width="16">

<br>

<h3 style='margin-left:20px;' >Output:</h3>
<textarea id="output" rows="15" style="margin-left:20px; background: black; color:white; width: 80%; border: 2px solid white;">

</textarea>
<textarea id="code2" style="margin-left:20px; display: none;"></textarea>

</body>
</html>
